<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
	http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/aop 
	http://www.springframework.org/schema/aop/spring-aop-4.0.xsd
	http://www.springframework.org/schema/constext 
	http://www.springframework.org/schema/constext/spring-constext.xsd">

	<bean id="helloWorld" class="t_tok1.HelloWorld">
		<property name="message" value="korea hello!" />
	</bean>

	<bean id="battery" class="t_tok02.Battery">
		<property name="name" value="스프링으로 산 배터리-Setter"></property>
	</bean>

	<bean id="battery2" class="t_tok02.Battery">
		<constructor-arg name="name" value="스프링으로 산 배터리-생성자" />
	</bean>

	<bean id="blackphone" class="t_tok02.BlackPhone">
		<constructor-arg ref="battery2" /> <!-- counstructor 생성자 -->
	</bean>


	<!-- 핵심로직인 ItemTarget을 bean으로 설정 -->
	<bean id="itemTarget" class="t_tok03.ItemTarget"></bean>
	<bean id="goodsTarget" class="t_tok03.GoodsTarget"></bean>


	<!-- 관점로직인 LoggingAdvice 를 bean으로 설정 -->
	<bean id="LoggingAdvice" class="t_tok03.LoggingAdvice"></bean>
	<aop:config>
		<aop:aspect ref="LoggingAdvice">
			<aop:before method="beforeAdvice"
				pointcut="execution(* t_tok03.ItemTarget.*())" />
			<!-- 실행할때 t_tok03 패키지 안에 ItemTarget에 있는 모든 메서드를 실행할 때 beforeAdvice 를 실행해라 -->
			<aop:before method="beforeBuyConfirm"
				pointcut="execution(* t_tok03.ItemTarget.buyItem())" />
			<!-- BuyItem 이 실행되기 이전에 실행해라 -->
			<!-- <aop:after method="afterAdvice" pointcut="execution(* t_tok03.*Target.buy*(..))"/> -->
			<!-- buyItems 실행후 실행 buy** buy로 시작하는 모든 메서드 -->
			<aop:around method="aroundAdvice"
				pointcut="execution(* t_tok03.*Target.buy*(..))" />
		</aop:aspect>
	</aop:config>

	<bean id="student" 
	class="t_tok04.Student" 
	init-method = "init"
	destroy-method = "cleanUp"
	
	>
		<property name="name" value = "스프링" />
	</bean>






</beans>